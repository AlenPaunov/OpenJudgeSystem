@using System.Dynamic
@using OJS.Web.ViewModels.Common

@model int?

@{
    var placeholder = string.Empty;
    if (this.ViewData.ModelMetadata.AdditionalValues.ContainsKey(WebConstants.Placeholder))
    {
        placeholder = this.ViewData.ModelMetadata.AdditionalValues[WebConstants.Placeholder] as string;
    }

    dynamic htmlAttributes = new ExpandoObject();

    htmlAttributes.placeholder = placeholder;
    htmlAttributes.style = "width: 100%;";
    htmlAttributes.data_value_primitive = "true";

    if (this.ViewData.ContainsKey(WebConstants.IsDisabled) &&
        (bool)this.ViewData[WebConstants.IsDisabled])
    {
        htmlAttributes.disabled = "disabled";
    }
}

@(Html.Kendo()
    .DropDownListFor(m => m)
    .BindTo((IEnumerable<DropdownViewModel>)this.ViewData[this.ViewData.TemplateInfo.GetFullHtmlFieldName(string.Empty) + "Data"])
    .Events(e => e.Open("Ojs.KendoControls.DropDownList.alignDropDownToInput"))
    .DataValueField("Id")
    .DataTextField("Name")
    .OptionLabel(placeholder)
    .HtmlAttributes(htmlAttributes))